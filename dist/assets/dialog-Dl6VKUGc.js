var h=Object.defineProperty;var p=(s,t,o)=>t in s?h(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o;var a=(s,t,o)=>p(s,typeof t!="symbol"?t+"":t,o);class u{constructor(){a(this,"backdrop");a(this,"contentBox");a(this,"onCloseCallback",null);a(this,"onSubmitCallback",null);this.backdrop=document.createElement("div"),this.backdrop.style.position="fixed",this.backdrop.style.top="0",this.backdrop.style.left="0",this.backdrop.style.width="100%",this.backdrop.style.height="100%",this.backdrop.style.backgroundColor="rgba(0, 0, 0, 0.8)",this.backdrop.style.display="none",this.backdrop.style.zIndex="1000",this.backdrop.addEventListener("click",()=>this.close()),this.contentBox=document.createElement("div"),this.contentBox.style.position="absolute",this.contentBox.style.top="50%",this.contentBox.style.left="50%",this.contentBox.style.transform="translate(-50%, -50%)",this.contentBox.style.backgroundColor="#1e1e1e",this.contentBox.style.color="#ffffff",this.contentBox.style.padding="20px",this.contentBox.style.borderRadius="8px",this.contentBox.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.3)",this.contentBox.addEventListener("click",t=>t.stopPropagation()),this.backdrop.appendChild(this.contentBox),document.body.appendChild(this.backdrop)}open(t,o,i){this.contentBox.innerHTML="",t.forEach(e=>{let r;switch(e.type){case"heading":r=document.createElement("h2"),r.textContent=e.text||"";break;case"input":const n=document.createElement("input");n.id=e.id||"",n.type=e.inputType||"text",n.placeholder=e.placeholder||"",n.className=e.class||"",n.style.cssText=e.style||"",e.disabled&&(n.disabled=!0),r=n;break;default:console.warn(`Unsupported element type: ${e.type}`);return}this.contentBox.appendChild(r)});const d=document.createElement("div");d.style.textAlign="right";const c=document.createElement("button");c.id="dialog-submit",c.textContent="Submit",c.className="btn btn-primary",c.style.marginRight="10px",c.addEventListener("click",()=>{const e=this.collectData();this.onSubmitCallback&&this.onSubmitCallback(e),this.close()});const l=document.createElement("button");l.id="dialog-cancel",l.textContent="Cancel",l.className="btn btn-secondary",l.addEventListener("click",()=>this.close()),d.appendChild(c),d.appendChild(l),this.contentBox.appendChild(d),this.onSubmitCallback=o,this.onCloseCallback=i||null,this.backdrop.style.display="block"}close(){this.backdrop.style.display="none",this.onCloseCallback&&this.onCloseCallback()}collectData(){const t=this.contentBox.querySelectorAll("input"),o={};return t.forEach(i=>{i.id&&(o[i.id]=i.value)}),o}}export{u as Dialog};
